import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';

const cities = [
  '–ê–Ω–≥–∞—Ä—Å–∫, –ò—Ä–∫—É—Ç—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–ë–∞–π–∫–∞–ª—å—Å–∫, –ò—Ä–∫—É—Ç—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–ë–∞–ª–∞–∫–æ–≤–æ, –°–∞—Ä–∞—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–ë–∏–ª–∏–±–∏–Ω–æ, –ß—É–∫–æ—Ç—Å–∫–∏–π –ê–û',
  '–í–æ–ª–≥–æ–¥–æ–Ω—Å–∫, –†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–ì–ª–∞–∑–æ–≤, –£–¥–º—É—Ä—Ç—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞',
  '–î–µ—Å–Ω–æ–≥–æ—Ä—Å–∫, –°–º–æ–ª–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–î–∏–º–∏—Ç—Ä–æ–≤–≥—Ä–∞–¥, –£–ª—å—è–Ω–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–ñ–µ–ª–µ–∑–Ω–æ–≥–æ—Ä—Å–∫, –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π',
  '–ó–ê–¢–û –ó–∞—Ä–µ—á–Ω—ã–π, –ü–µ–Ω–∑–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–ó–∞—Ä–µ—á–Ω—ã–π, –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–ó–µ–ª–µ–Ω–æ–≥–æ—Ä—Å–∫, –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π',
  '–ö—Ä–∞—Å–Ω–æ–∫–∞–º–µ–Ω—Å–∫, –ó–∞–±–∞–π–∫–∞–ª—å—Å–∫–∏–π –∫—Ä–∞–π',
  '–ö—É—Ä—á–∞—Ç–æ–≤, –ö—É—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–õ–µ—Å–Ω–æ–π, –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–ù–µ–º–∞–Ω, –ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–ù–æ–≤–æ–≤–æ—Ä–æ–Ω–µ–∂, –í–æ—Ä–æ–Ω–µ–∂—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–ù–æ–≤–æ—É—Ä–∞–ª—å—Å–∫, –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–û–±–Ω–∏–Ω—Å–∫, –ö–∞–ª—É–∂—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–û–∑–µ—Ä—Å–∫, –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–ü–µ–≤–µ–∫, –ß—É–∫–æ—Ç—Å–∫–∏–π –ê–û',
  '–ü–æ–ª—è—Ä–Ω—ã–µ –ó–æ—Ä–∏, –ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–°–∞—Ä–æ–≤, –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–°–µ–≤–µ—Ä—Å–∫, –¢–æ–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–°–Ω–µ–∂–∏–Ω—Å–∫, –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–°–æ–≤–µ—Ç—Å–∫, –ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–°–æ—Å–Ω–æ–≤—ã–π –ë–æ—Ä, –õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–¢—Ä–µ—Ö–≥–æ—Ä–Ω—ã–π, –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–£–¥–æ–º–ª—è, –¢–≤–µ—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–£—Å–æ–ª—å–µ-–°–∏–±–∏—Ä—Å–∫–æ–µ, –ò—Ä–∫—É—Ç—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–≠–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–ª—å, –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
  '–≠–Ω–µ—Ä–≥–æ–¥–∞—Ä, –ó–∞–ø–æ—Ä–æ–∂—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
];

function HomePage({ selectedCity, setSelectedCity, isAuthenticated }) {
  const navigate = useNavigate();

  const handleCityChange = (e) => {
    const city = e.target.value;
    setSelectedCity(city);
    localStorage.setItem('selectedCity', city);
  };

  const navigateToPortal = (path) => {
    navigate(path);
  };

  return (
    <div className="home-page">
      <div className="home-container">
        {/* Header Section */}
        <div className="home-header">
          <h1>–î–æ–±—Ä—ã–µ –¥–µ–ª–∞ –†–æ—Å–∞—Ç–æ–º–∞</h1>
          <div className="subtitle">–í—Å–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã –≤–∞—à–µ–≥–æ –≥–æ—Ä–æ–¥–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ</div>
          <p>
            –ï–¥–∏–Ω—ã–π –ø–æ—Ä—Ç–∞–ª –¥–ª—è –∂–∏—Ç–µ–ª–µ–π, –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–≤ –∏ –ù–ö–û, –≥–¥–µ —Å–æ–±—Ä–∞–Ω–∞ –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ
            —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö, —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö, –∫—É–ª—å—Ç—É—Ä–Ω—ã—Ö, –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞—Ö –≤
            –≥–æ—Ä–æ–¥–∞—Ö –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è –†–æ—Å–∞—Ç–æ–º–∞.
          </p>
          <p>–ó–¥–µ—Å—å –≤—ã —Å–º–æ–∂–µ—Ç–µ:</p>
          <ul style={{ marginLeft: '2rem', marginTop: '1rem', lineHeight: '1.8' }}>
            <li>–£–∑–Ω–∞—Ç—å, –∫–∞–∫–∏–µ –ù–ö–û –∏ –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –≤–∞—à–µ–º –≥–æ—Ä–æ–¥–µ</li>
            <li>–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –∏ —Å–æ–±—ã—Ç–∏—è</li>
            <li>–ù–∞–π—Ç–∏ –ø–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∏ –æ–±—É—á–∞—é—â–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</li>
            <li>–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–æ–≤ –¥–ª—è —É—á–∞—Å—Ç–∏—è –∏–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤</li>
          </ul>
        </div>

        {/* City Selector */}
        <div className="city-selector">
          <label htmlFor="city-select">–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π –≥–æ—Ä–æ–¥</label>
          <select
            id="city-select"
            value={selectedCity}
            onChange={handleCityChange}
          >
            <option value="">--- –í—Å–µ –≥–æ—Ä–æ–¥–∞ ---</option>
            {cities.map((city) => (
              <option key={city} value={city}>
                {city}
              </option>
            ))}
          </select>
        </div>

        <div className="call-to-action">–°—Ç–∞–Ω—å—Ç–µ —á–∞—Å—Ç—å—é –¥–æ–±—Ä—ã—Ö –¥–µ–ª –≤ –≤–∞—à–µ–º –≥–æ—Ä–æ–¥–µ!</div>

        {/* Portal Options */}
        <div className="portal-options">
          <div className="portal-card" onClick={() => navigateToPortal('/nko')}>
            <div className="portal-icon">üìç</div>
            <div className="portal-content">
              <h3>–ö–∞—Ä—Ç–∞ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</h3>
              <p>–ù–∞–π–¥–∏—Ç–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ –≥–æ—Ä–æ–¥—É –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</p>
            </div>
          </div>

          <div className="portal-card" onClick={() => navigateToPortal('/calendar')}>
            <div className="portal-icon">‚ö°</div>
            <div className="portal-content">
              <h3>–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π</h3>
              <p>–û—Ç–º–µ—Ç—å—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è, —á—Ç–æ–±—ã –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å</p>
            </div>
          </div>

          <div className="portal-card" onClick={() => navigateToPortal('/knowledge')}>
            <div className="portal-icon">üìö</div>
            <div className="portal-content">
              <h3>–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</h3>
              <p>–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –≤–∏–¥–µ–æ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è</p>
            </div>
          </div>

          <div className="portal-card" onClick={() => navigateToPortal('/news')}>
            <div className="portal-icon">üë•</div>
            <div className="portal-content">
              <h3>–ù–æ–≤–æ—Å—Ç–∏ –∏ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã</h3>
              <p>–ë—É–¥—å—Ç–µ –≤ –∫—É—Ä—Å–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤ –∏ –≥—Ä–∞–Ω—Ç–æ–≤</p>
            </div>
          </div>
        </div>

        {/* Call to Action Section */}
        {!isAuthenticated && (
          <div className="call-to-action-section">
            <h2>–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å?</h2>
            <p>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Å–æ–æ–±—â–µ—Å—Ç–≤—É –¥–æ–±—Ä—ã—Ö –¥–µ–ª</p>
            <div className="cta-buttons">
              <button
                onClick={() => navigate('/register')}
                className="btn-primary"
              >
                –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è ‚Üí
              </button>
              <button
                onClick={() => navigate('/login')}
                className="btn-secondary"
              >
                –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç
              </button>
            </div>
          </div>
        )}
      </div>
    </div>
  );
}

export default HomePage;